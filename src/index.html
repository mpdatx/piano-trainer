<!-- GENERATED FILE â€” do not edit. Source is in src/ directory. Run: npm run build -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="icon-192.png">
    <title>Piano Trainer</title>
    <script src="vexflow.js"></script>
    <script src="tone.js"></script>
    <style>
        /* BUILD:CSS */
    </style>
</head>
<body>
    <h1>PIANO TRAINER</h1>

    <!-- Main Menu -->
    <div id="main-menu">
        <div class="menu-title">Choose a training mode</div>
        <div class="mode-cards">
            <div class="mode-card" id="card-visual">
                <div class="mode-icon">&#x1F3B5;</div>
                <h3>Note Reading</h3>
                <div class="mode-level" id="menu-visual-level">Level 1</div>
                <div class="mode-accuracy" id="menu-visual-accuracy">No attempts yet</div>
            </div>
            <div class="mode-card" id="card-audio">
                <div class="mode-icon">&#x1F50A;</div>
                <h3>Ear Training</h3>
                <div class="mode-level" id="menu-audio-level">Level 1</div>
                <div class="mode-accuracy" id="menu-audio-accuracy">No attempts yet</div>
            </div>
            <div class="mode-card" id="card-reverse">
                <div class="mode-icon">&#x1F3B9;</div>
                <h3>Note Finding</h3>
                <div class="mode-level" id="menu-reverse-level">Level 1</div>
                <div class="mode-accuracy" id="menu-reverse-accuracy">No attempts yet</div>
            </div>
            <div class="mode-card" id="card-interval">
                <div class="mode-icon">&#x1F3B6;</div>
                <h3>Intervals</h3>
                <div class="mode-level" id="menu-interval-level">Level 1</div>
                <div class="mode-accuracy" id="menu-interval-accuracy">No attempts yet</div>
            </div>
            <div class="mode-card" id="card-keysig">
                <div class="mode-icon">&#x266D;</div>
                <h3>Key Signatures</h3>
                <div class="mode-level" id="menu-keysig-level">Level 1</div>
                <div class="mode-accuracy" id="menu-keysig-accuracy">No attempts yet</div>
            </div>
            <div class="mode-card" id="card-circle">
                <div class="mode-icon">&#x1F504;</div>
                <h3>Circle of Fifths</h3>
                <div class="mode-level" id="menu-circle-level">Level 1</div>
                <div class="mode-accuracy" id="menu-circle-accuracy">No attempts yet</div>
            </div>
            <div class="mode-card" id="card-freeplay">
                <div class="mode-icon">&#x1F3B9;</div>
                <h3>Free Play</h3>
                <div class="mode-level" id="menu-freeplay-level">2 Octaves</div>
                <div class="mode-accuracy" id="menu-freeplay-accuracy">Play freely</div>
            </div>
            <div class="mode-card" id="card-notation">
                <div class="mode-icon">&#x1F3BC;</div>
                <h3>Music Notation</h3>
                <div class="mode-level" id="menu-notation-level">Chapter 1 of 17</div>
                <div class="mode-accuracy" id="menu-notation-accuracy">Not started</div>
            </div>
        </div>
        <button id="reset-btn" style="padding:8px 16px;background:#444;border:1px solid #666;color:#ccc;border-radius:4px;cursor:pointer;margin-top:10px;">Reset All Progress</button>
        <div id="app-version" style="margin-top:15px;font-size:0.7rem;color:#555;"></div>
    </div>

    <!-- Quiz Screen -->
    <div id="quiz-screen">
        <button class="back-btn" id="back-to-menu">&larr; Back to Menu</button>
        <div id="staff-container">
            <div id="staff"></div>
        </div>
        <div id="level-info">
            <div id="level-display"> <select id="level-picker"></select> <a href="#" id="unlock-all-btn"></a></div>
            <div id="level-progress">
                <div id="level-progress-bar"><div id="level-progress-fill"></div></div>
                <div id="level-progress-text"></div>
            </div>
            <div id="streak-display"></div>
        </div>
        <div id="feedback"></div>
        <div id="response-time"></div>
        <div id="controls">
            <button id="replay-btn" style="display: none;">Replay</button>
            <button id="start-btn">Start</button>
            <label><input type="checkbox" id="show-labels" checked> Show key names</label>
            <label id="delay-control" style="display:none;">Delay
                <select id="next-delay">
                    <option value="0">None</option>
                    <option value="400">0.4s</option>
                    <option value="800">0.8s</option>
                    <option value="1200" selected>1.2s</option>
                    <option value="2000">2s</option>
                    <option value="3000">3s</option>
                </select>
            </label>
        </div>
        <div id="keyboard-container">
            <div id="keyboard"></div>
        </div>
        <div id="interval-buttons"></div>
        <div id="keysig-buttons"></div>
        <div class="button-grid" id="circle-buttons" style="display:none"></div>
        <div id="stats">
            <h2>ACCURACY BY NOTE</h2>
            <div id="stats-grid"></div>
        </div>
    </div>

    <!-- Free Play Screen -->
    <div id="freeplay-screen">
        <button class="back-btn" id="freeplay-back-menu">&larr; Back to Menu</button>
        <div id="freeplay-staff-container">
            <div id="freeplay-staff"></div>
        </div>
        <div id="freeplay-keyboard-row">
            <button class="octave-arrow" id="freeplay-octave-down">&larr;</button>
            <div id="freeplay-keyboard-container">
                <div id="freeplay-keyboard"></div>
            </div>
            <button class="octave-arrow" id="freeplay-octave-up">&rarr;</button>
        </div>
        <div id="freeplay-octave-label"></div>
        <div id="freeplay-controls">
            <label><input type="checkbox" id="freeplay-note-times"> Note durations</label>
        </div>
    </div>

    <!-- Level Complete Overlay -->
    <div id="level-complete">
        <div class="level-complete-content">
            <h2>Level Complete!</h2>
            <div class="next-level-name" id="next-level-name"></div>
            <div class="level-btns">
                <button id="continue-btn">Continue to Next Level</button>
                <button id="stay-btn">Stay on this Level</button>
                <button id="reset-stay-btn">Reset &amp; Stay</button>
                <button id="menu-btn">Back to Menu</button>
            </div>
        </div>
    </div>

    <!-- Notation Chapter List -->
    <div id="notation-chapters">
        <button class="back-btn" id="notation-back-menu">&larr; Back to Menu</button>
        <h2 style="font-weight:300;letter-spacing:1px;margin-bottom:5px;">Music Notation</h2>
        <p style="color:#888;font-size:clamp(0.75rem,2.5vw,0.85rem);margin-bottom:10px;">Learn to read sheet music</p>
        <div class="chapter-list" id="chapter-list"></div>
    </div>

    <!-- Notation Lesson Screen -->
    <div id="notation-lesson">
        <button class="back-btn" id="lesson-back-chapters">&larr; Back to Chapters</button>
        <h2 id="lesson-title" style="font-weight:300;letter-spacing:1px;margin-bottom:5px;"></h2>
        <div class="lesson-page-indicator" id="lesson-page-indicator"></div>
        <div class="lesson-content" id="lesson-content"></div>
        <div class="lesson-nav">
            <button id="lesson-prev">Previous</button>
            <button id="lesson-next" class="primary">Next</button>
        </div>
    </div>

    <!-- Notation Quiz Screen -->
    <div id="notation-quiz">
        <button class="back-btn" id="quiz-back-chapters">&larr; Back to Chapters</button>
        <h2 id="nq-title" style="font-weight:300;letter-spacing:1px;margin-bottom:5px;"></h2>
        <div id="nq-level-info" style="margin-bottom:15px;text-align:center;width:100%;">
            <div id="nq-level-progress">
                <div id="nq-progress-bar" style="width:200px;max-width:60vw;height:6px;background:#333;border-radius:3px;margin:0 auto 4px;overflow:hidden;">
                    <div id="nq-progress-fill" style="height:100%;background:#22aa55;border-radius:3px;transition:width 0.3s;width:0%;"></div>
                </div>
                <div id="nq-progress-text" style="font-size:clamp(0.65rem,2.2vw,0.75rem);color:#777;"></div>
            </div>
            <div id="nq-streak" style="font-size:clamp(0.75rem,2.5vw,0.85rem);color:#888;margin-top:5px;"></div>
        </div>
        <div id="nq-staff-container" style="background:#fff;border-radius:8px;padding:15px;margin-bottom:15px;box-shadow:0 4px 20px rgba(0,0,0,0.3);overflow-x:auto;width:100%;max-width:min(95vw,400px);display:flex;justify-content:center;">
            <div id="nq-staff"></div>
        </div>
        <div id="nq-prompt" style="font-size:clamp(1rem,3.5vw,1.2rem);margin-bottom:10px;text-align:center;min-height:1.5em;"></div>
        <div class="mc-buttons" id="nq-buttons"></div>
        <div id="nq-feedback" style="font-size:clamp(1rem,3.5vw,1.2rem);min-height:2rem;margin-top:10px;text-align:center;"></div>
        <div id="nq-response-time" style="font-size:clamp(0.7rem,2.4vw,0.8rem);color:#888;margin-top:5px;text-align:center;"></div>
        <div id="nq-stats" style="margin-top:20px;background:rgba(255,255,255,0.1);border-radius:8px;padding:12px 15px;width:100%;">
            <h2 style="font-size:clamp(0.85rem,3vw,1rem);font-weight:300;margin-bottom:10px;letter-spacing:1px;text-align:center;">QUIZ ACCURACY</h2>
            <div id="nq-stats-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:5px;max-width:500px;margin:0 auto;"></div>
        </div>
    </div>

    <script>
        /* BUILD:JS */
    </script>
</body>
</html>
